generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres:postgres@postgres:5432/postgres?schema=public"
}

model budget_request {
  id            Int      @id @default(autoincrement())
  responsavel   String
  cpf_cnpj      String?
  local_evento  String
  servicos      String[]
  data_evento   DateTime
  telefone      String
  tipo_evento   String?
  email         String?
  descricao     String
  data_cadastro DateTime @default(now())
}

model SoundPlans {
  id            Int         @id @default(autoincrement())
  name          String
  caminhao      String
  departamentId Int?
  department    Department? @relation(fields: [departamentId], references: [id])
  valor_plano   Decimal     @db.Decimal(10, 2)

  Budget Budget[]

  @@map("sound_plans")
}

model Budget {
  id            Int         @id @default(autoincrement())
  responsavel   String
  cpfCnpj       String?
  localEvento   String
  servicos      String[]
  dataEvento    DateTime
  telefone      String
  tipoEvento    String?
  email         String?
  descricao     String
  soundPlanId   Int?
  soundPlans    SoundPlans? @relation(fields: [soundPlanId], references: [id])
  observacoes   String
  data_cadastro DateTime    @default(now())

  @@map("budget")
}

model Department {
  id         Int          @id @default(autoincrement())
  name       String
  equipments Equipment[]
  soundPlans SoundPlans[]

  @@map("departments")
}

model Equipment {
  id           Int        @id @default(autoincrement())
  name         String
  department   Department @relation(fields: [departmentId], references: [id])
  departmentId Int
  amount       Int

  @@map("equipments")
}

model File {
  id        Int      @id @default(autoincrement())
  name      String
  url       String
  createdAt DateTime @default(now())
}
